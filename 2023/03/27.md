# 取り組んだ課題一覧
- 米国AI開発者がゼロから教えるDocker講座

# わかったこと
- `COPY`と`ADD`の使い分け
	- COPY：単純にファイルやフォルダをコピーしたい時
	- ADD：tarなどの圧縮ファイルをコンテナに送って解凍したい時（ファイルサイズが大きい場合、圧縮してサイズを小さくしたい場合がある）
- `Dockerfile`という名のファイルがビルドコンテキストに入っていない場合のビルドコマンド：`docker build -f <dockerfileのパス> <build context>`（Dockerfileが開発用とテスト用で分かれている場合などに利用するケースがある）
- Docker instructionは何もディレクトリを指定しないとルート直下で実行される
- Docker INSTRUCTION
	- `ENTRYPOINT`：デフォルトのコマンドを指定する。
		- `CMD`との違い：
			- `ENTRYPOINT`はrun時にコマンドの上書きができない
			- `ENTRYPOINT`がある場合は、`CMD`は引数のみの指定になる。
			- run時に上書きできるのはCMDの引数の部分のみ
			- コンテナをコマンドのようにして使いたい時に使う
	- `ENV`：環境変数を設定する
	- `WORKDIR`：Docker instructionを実行するディレクトリを変更する
		- `WORKDIR <絶対パス>`の形で指定する
		- 絶対パスで指定したフォルダがなければ作ってくれる。
- docker run時のオプション
	- `-v <hostのパス>:<containerのパス>`：ホストのファイルシステムをコンテナにマウントする。コンテナからホストのファイルシステムにアクセス可能とする。container側に指定したフォルダがなければ自動で作成されるので、Dockerfileでわざわざフォルダを作るコマンドを実行する必要はない。
	- `-u <user id>:<group id>`：ユーザIDとグループIDを指定してコンテナをrunする。user idとgroup idについては`$(id -u):$(id -g)`の形でダラーの中にLinuxコマンドを使って書くことが多い。
	- `-p <host_port>:<container_port>`：ホストのポートをコンテナのポートに繋げる。コンテナに何かWebサービスを立てて、そのコンテナに外からアクセスする時に使う。
	- `--cpu <cpu数>`：コンテナがアクセスできる上限のCPUを設定
	- `--memory <byte>`：コンテナがアクセスできる上限のメモリを設定
- Dockerfileを作成するとき、最初からどう書けばいいかは分からないことがほとんど。その場合は、一旦コンテナに入って必要なパッケージをインストールするなど、うまくいくかどうか試してみて、うまくいったらその内容をDockerfileに書いていくという流れになる。
- パスを通すとは、環境変数$PATHにパスを追加することで、コンピュータがプログラムをそのパスから探してきてくれるようになる。

# 次やること
- 米国AI開発者がゼロから教えるDocker講座 | セクション10

# 感じたこと
- Dockerは知れば知るほど便利だなと感じる。

# 学習時間
Today: 3 h 45 m

Total: 209 h 5 m
